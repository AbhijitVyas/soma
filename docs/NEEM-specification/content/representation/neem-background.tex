
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{NEEM-Background}
\label{ch:background}
\chapterauthor{D. Be{\ss}ler, M. Pomarlan, A. Vyas}

The background part of \neems represents the (physical) context under which one or more \neems are acquired.
More concretely, the \neembak represents the environment where events took place, and the agents that participate in these events.
These are representations of physical objects, their parts, properties, and relationships between them.

Each \neem must have exactly one associated \neembak.
This is important as only the objects and their properties represented in the \neembak may be involved in events that are part of the \neem.
Consider, for example, a robot fetching a cup in a kitchen environment to prepare a coffee.
The cup would be part of the \neembak while the fetching event carried out by the robot would be represented in the \neemnar, however, the event would refer to the cup as it is involved in this situation.

The step of creating the \neembak should usually take place before any \neems are acquired through an agent performing actions in the respective environment.
This boils down to the identification of appropiate type labels for objects that appear in the environment, and their properties.
Both, object and property types, are organized in a taxonomy, which we will describe in Section~\ref{sec:background:taxonomy}.
Objects and their properties may further be organized along certain relationships, for example, to represent that an object is made of several parts.
This will be discussed in Section~\ref{sec:background:relations}.
It is further possible to make use of some common formats for representing objects and their environment which will be discussed in Section~\ref{sec:background:formats}.
 
\subsection{Taxonomy}
\subsubsection{Physical Objects}
According to \dul~\footnote{\url{http://www.ontologydesignpatterns.org/ont/dul/DUL.owl}} upper level ontology, an object participates in an event during its lifetime and has its own spatial location. During an everyday activity, we come across many objects which are mainly of physical type. A physical object is defined as an object that has a proper space region and associated mass. Sub-classes of physical objects are dirty object, physical agent, physical artifact, physical body, physical space, and physical effector. A typical object participate in an event and can be classified by role. It can have physical qualities such as color, localization, disposition, capacity, shape, size, and temperature that are aspect of an object dependent on its physical manifestation. 

%An object branch also covers a design taxonomy which considers functional, structural and aesthetic aspect of object design. Designs are useful to support an agent to hypothesize unknown functions that can be served by an entity\todo{Seba; What exactly is en entity ? An object ? an instance of a concept ?}. A design describes objects which host a common design relevant qualities such as, dispositional, geometrical, and aesthetic. An intelligent agent would be able to infer based on dispositional quality of an object if it can be used to serve other function in everyday task. For example, a heavy door stopper would also be able to function as paper weight or a dining table can be also used as ping pong table based on appropriate dimensions.
 
\subsubsection{Qualities}
 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Relationships}
\label{sec:background:relations}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Componency}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Properties}
\label{sec:qualification}

Qualities are the properties of an object that are not part of it, but cannot exist without it.
This is, for example, the quality of having a shape -- a quality inherited by all physical objects.
Another example is the quality of a floor being slippery.
A robot navigating on such a floor could use this knowledge to avoid, for example,
spillage when moving on the floor with a coffee-filled cup.
The quality concept does not directly encode the value of the object property, but only focusses on characteristics of the property itself.
This is mainly useful in cases where individual aspects of an entity are considered in the domain of discourse.

\begin{ODP}{Object Qualities}
	\ODPINTENT{To represent the qualities of an object.}
	\ODPDEFINEDIN{DUL.owl}
	\ODPQUESTION{What qualities does this object have? That are the objects with this quality?}
	\ODPGRAPHIC{
	\begin{tikzpicture}
	    \node[owlclass] (A) {Object};
	    \node[owlclass,below=0.6cm of A] (B) {Quality};
	    \draw (A) edge[relation] node[midway,label=right:hasQuality] {} (B);
 %\node[owlclass] (QUALITY) {
 %\begin{owlclass}{Quality}
 % \item $(\exists \emph{isQualityOf}.\texttt{Entity})$
 % \item $(\exists \emph{hasRegion}.\texttt{Region})$
 %\end{owlclass}
 %};
 %\node[owlclass,below=0.6cm of QUALITY] (REGION) {
 %\begin{owlclass}{Region}
 % \item $(\exists \emph{isRegionFor}.\texttt{Quality})$
 %\end{owlclass}
 %};
 %\draw (QUALITY) edge[thick,-,dashed,blue!60] (REGION);
	\end{tikzpicture}
	}
	%% Example KnowRob language expressions
	\ODPEXAMPLES{
		\emph{has\_quality($x$,$y$)} &
		$y$ is a quality of $x$
	}
\end{ODP}

Each object property has one value at a time. The value of an object property is called \emph{region}.
The value itself is an element, or a sub-region in some dimensional
space such as \emph{time interval} or \emph{space region}.
A region may be a finite set of discrete labels, allowing for ``qualitative'' descriptions,
but more often a region is some dimensional space allowing ``quantitative'' descriptions.
A Region may contain a single point, in cases where the value of a property is known precisely.
Note that the domain of the relation \emph{hasRegion} is not \emph{Quality} but \emph{Entity}.
This is to allow assigning regions to entities without explicating the quality as a concept (quality-as-relation).
\todo{Seba: maybe some more example would be nice. Or refering to the example with the slippery floor. }

\begin{ODP}{Regions}
	\ODPINTENT{To represent values of attributes of things.}
	\ODPDEFINEDIN{DUL.owl}
	\ODPQUESTION{What is the value for the attribute of that entity? Which entities have a certain value on that parameter/attribute/feature?}
	\ODPGRAPHIC{
	\begin{tikzpicture}
	    \node[owlclass] (A) {Entity};
	    \node[owlclass,below=0.6cm of A] (B) {Region};
	    \node[data,below=0.6cm of B] (C) {XSD Type};
	    \draw (A) edge[relation] node[midway,label=right:hasRegion] {} (B);
	    \draw (B) edge[relation] node[midway,label=right:hasRegionDataValue] {} (C);
	\end{tikzpicture}
	}
	%% Example KnowRob language expressions
	\ODPEXAMPLES{
		\emph{has\_region($x$,$y$)} &
		$y$ is a region of $x$ \\
		% % % % %
		\emph{has\_data\_value($x$,$y$)} &
		$y$ is a data value of $x$ 
	}
\end{ODP}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Format}
\label{sec:background:formats}
\subsection{DAE}
\subsection{URDF}

